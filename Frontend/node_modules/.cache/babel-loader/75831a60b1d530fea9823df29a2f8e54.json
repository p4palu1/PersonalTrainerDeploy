{"ast":null,"code":"import _slicedToArray from\"C:/Users/reems/Documents/My Web Sites/hotelmanagment/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Col,Form,Button}from\"react-bootstrap\";import FormContainer from\"../components/FormContainer\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../components/Message\";import{signForWorkout,updateWorkout}from\"../actions/workoutActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkoutSignForScreen=function WorkoutSignForScreen(_ref){var history=_ref.history,match=_ref.match;var dispatch=useDispatch();var workoutSignFor=useSelector(function(state){return state.workoutSignFor;});var success=workoutSignFor.success,error=workoutSignFor.error;var workoutList=useSelector(function(state){return state.workoutList;});var workouts=workoutList.workouts;var workout=workouts.find(function(w){return w._id===match.params.id;})||{};var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),phoneNumber=_useState6[0],setPhoneNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),duration=_useState12[0],setDuration=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),equipment=_useState14[0],setEquipment=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),revenuePerClient=_useState16[0],setRevenuePerClient=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),currentClients=_useState18[0],setCurrentClients=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),maxClients=_useState20[0],setMaxClients=_useState20[1];useEffect(function(){setDescription(workout.description);setDate(workout.date);setDuration(workout.duration);setEquipment(workout.equipment);setRevenuePerClient(workout.revenuePerClient);setCurrentClients(workout.currentClients+1);setMaxClients(workout.maxClients);if(success){setName('');setEmail('');setPhoneNumber('');}},[success]);var submitHandler=function submitHandler(e){e.preventDefault();if(workout.currentClients<workout.maxClients){dispatch(signForWorkout(match.params.id,name,email,phoneNumber));dispatch(updateWorkout(match.params.id,date,duration,equipment,description,revenuePerClient,currentClients,maxClients));}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Sign Up for Workout\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Signed up for workout\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter Name...\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email...\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Phone Number...\",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Sign Up\"})]})]});};export default WorkoutSignForScreen;","map":{"version":3,"sources":["C:/Users/reems/Documents/My Web Sites/hotelmanagment/Frontend/src/screens/WorkoutSignForScreen.js"],"names":["React","useState","useEffect","Row","Col","Form","Button","FormContainer","useDispatch","useSelector","Message","signForWorkout","updateWorkout","WorkoutSignForScreen","history","match","dispatch","workoutSignFor","state","success","error","workoutList","workouts","workout","find","w","_id","params","id","name","setName","email","setEmail","phoneNumber","setPhoneNumber","description","setDescription","date","setDate","duration","setDuration","equipment","setEquipment","revenuePerClient","setRevenuePerClient","currentClients","setCurrentClients","maxClients","setMaxClients","submitHandler","e","preventDefault","target","value"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,MAAzB,KAAuC,iBAAvC,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,2BAA9C,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAAsB,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,KAAW,MAAXA,KAAW,CAC/C,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAMS,CAAAA,cAAc,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACD,cAAjB,EAAD,CAAlC,CACA,GAAQE,CAAAA,OAAR,CAA2BF,cAA3B,CAAQE,OAAR,CAAiBC,KAAjB,CAA2BH,cAA3B,CAAiBG,KAAjB,CAEA,GAAMC,CAAAA,WAAW,CAAGZ,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACG,WAAjB,EAAD,CAA/B,CACA,GAAQC,CAAAA,QAAR,CAAqBD,WAArB,CAAQC,QAAR,CAEA,GAAMC,CAAAA,OAAO,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,GAAF,GAAUX,KAAK,CAACY,MAAN,CAAaC,EAA3B,EAAf,GAAiD,EAAjE,CAEA,cAAwB3B,QAAQ,CAAC,EAAD,CAAhC,wCAAO4B,IAAP,eAAaC,OAAb,eACA,eAA0B7B,QAAQ,CAAC,EAAD,CAAlC,yCAAO8B,KAAP,eAAcC,QAAd,eACA,eAAsC/B,QAAQ,CAAC,EAAD,CAA9C,yCAAOgC,WAAP,eAAoBC,cAApB,eAEA,eAAsCjC,QAAQ,CAAC,EAAD,CAA9C,yCAAOkC,WAAP,eAAoBC,cAApB,eACA,eAAwBnC,QAAQ,CAAC,IAAD,CAAhC,0CAAOoC,IAAP,gBAAaC,OAAb,gBACA,gBAAgCrC,QAAQ,CAAC,EAAD,CAAxC,2CAAOsC,QAAP,gBAAiBC,WAAjB,gBACA,gBAAkCvC,QAAQ,CAAC,EAAD,CAA1C,2CAAOwC,SAAP,gBAAkBC,YAAlB,gBACA,gBAAgDzC,QAAQ,CAAC,EAAD,CAAxD,2CAAO0C,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAA4C3C,QAAQ,CAAC,EAAD,CAApD,2CAAO4C,cAAP,gBAAuBC,iBAAvB,gBACA,gBAAoC7C,QAAQ,CAAC,EAAD,CAA5C,2CAAO8C,UAAP,gBAAmBC,aAAnB,gBAEA9C,SAAS,CAAC,UAAM,CACZkC,cAAc,CAACb,OAAO,CAACY,WAAT,CAAd,CACAG,OAAO,CAACf,OAAO,CAACc,IAAT,CAAP,CACAG,WAAW,CAACjB,OAAO,CAACgB,QAAT,CAAX,CACAG,YAAY,CAACnB,OAAO,CAACkB,SAAT,CAAZ,CACAG,mBAAmB,CAACrB,OAAO,CAACoB,gBAAT,CAAnB,CACAG,iBAAiB,CAACvB,OAAO,CAACsB,cAAR,CAAyB,CAA1B,CAAjB,CACAG,aAAa,CAACzB,OAAO,CAACwB,UAAT,CAAb,CACA,GAAG5B,OAAH,CAAW,CACRW,OAAO,CAAC,EAAD,CAAP,CACAE,QAAQ,CAAC,EAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACF,CACJ,CAbQ,CAaN,CAAEf,OAAF,CAbM,CAAT,CAeA,GAAM8B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA,GAAG5B,OAAO,CAACsB,cAAR,CAAyBtB,OAAO,CAACwB,UAApC,CAA+C,CAC3C/B,QAAQ,CAACL,cAAc,CAACI,KAAK,CAACY,MAAN,CAAaC,EAAd,CAAkBC,IAAlB,CAAwBE,KAAxB,CAA+BE,WAA/B,CAAf,CAAR,CACHjB,QAAQ,CAACJ,aAAa,CACfG,KAAK,CAACY,MAAN,CAAaC,EADE,CAEfS,IAFe,CAGfE,QAHe,CAIfE,SAJe,CAKfN,WALe,CAMfQ,gBANe,CAOfE,cAPe,CAQfE,UARe,CAAd,CAAR,CAUA,CACJ,CAfD,CAiBA,mBACI,MAAC,aAAD,yBACI,WAAI,SAAS,CAAC,MAAd,iCADJ,CAEM3B,KAAK,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EAFf,CAGMD,OAAO,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,SAAjB,mCAHjB,cAII,MAAC,IAAD,EAAM,QAAQ,CAAE8B,aAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,yBACI,KAAC,IAAD,CAAM,KAAN,mBADJ,cAEQ,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,eAAtC,CAAsD,KAAK,CAAEpB,IAA7D,CACA,QAAQ,CAAE,kBAACqB,CAAD,QAAOpB,CAAAA,OAAO,CAACoB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAd,EADV,EAFR,GADJ,cAOI,MAAC,IAAD,CAAM,KAAN,yBACI,KAAC,IAAD,CAAM,KAAN,oBADJ,cAEQ,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,WAAW,CAAC,gBAAvC,CAAwD,KAAK,CAAEtB,KAA/D,CACA,QAAQ,CAAE,kBAACmB,CAAD,QAAOlB,CAAAA,QAAQ,CAACkB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EADV,EAFR,GAPJ,cAaI,MAAC,IAAD,CAAM,KAAN,yBACI,KAAC,IAAD,CAAM,KAAN,2BADJ,cAEQ,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,uBAAtC,CAA8D,KAAK,CAAEpB,WAArE,CACA,QAAQ,CAAE,kBAACiB,CAAD,QAAOhB,CAAAA,cAAc,CAACgB,CAAC,CAACE,MAAF,CAASC,KAAV,CAArB,EADV,EAFR,GAbJ,cAoBI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,SAA9B,qBApBJ,GAJJ,GADJ,CA+BH,CAtFD,CAwFA,cAAexC,CAAAA,oBAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Row, Col, Form, Button } from \"react-bootstrap\"\r\nimport FormContainer from \"../components/FormContainer\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Message from \"../components/Message\"\r\nimport { signForWorkout, updateWorkout } from \"../actions/workoutActions\"\r\n\r\nconst WorkoutSignForScreen = ({history, match}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const workoutSignFor = useSelector((state) => state.workoutSignFor)\r\n    const { success, error } = workoutSignFor\r\n\r\n    const workoutList = useSelector((state) => state.workoutList)\r\n    const { workouts } = workoutList\r\n\r\n    const workout = workouts.find(w => w._id === match.params.id) || {}\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [phoneNumber, setPhoneNumber] = useState('')\r\n\r\n    const [description, setDescription] = useState('')\r\n    const [date, setDate] = useState(null)\r\n    const [duration, setDuration] = useState('')\r\n    const [equipment, setEquipment] = useState('')\r\n    const [revenuePerClient, setRevenuePerClient] = useState('')\r\n    const [currentClients, setCurrentClients] = useState('')\r\n    const [maxClients, setMaxClients] = useState('')\r\n\r\n    useEffect(() => {\r\n        setDescription(workout.description)\r\n        setDate(workout.date)\r\n        setDuration(workout.duration)\r\n        setEquipment(workout.equipment)\r\n        setRevenuePerClient(workout.revenuePerClient)\r\n        setCurrentClients(workout.currentClients + 1)\r\n        setMaxClients(workout.maxClients) \r\n        if(success){\r\n           setName('')\r\n           setEmail('')\r\n           setPhoneNumber('')\r\n        }\r\n    }, [ success ])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if(workout.currentClients < workout.maxClients){\r\n            dispatch(signForWorkout(match.params.id, name, email, phoneNumber))\r\n         dispatch(updateWorkout(\r\n                match.params.id,\r\n                date, \r\n                duration,\r\n                equipment, \r\n                description, \r\n                revenuePerClient, \r\n                currentClients,\r\n                maxClients,\r\n            ))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FormContainer>\r\n            <h1 className=\"mt-5\">Sign Up for Workout</h1>\r\n            { error && <Message variant=\"danger\">{error}</Message>}\r\n            { success && <Message variant=\"success\">Signed up for workout</Message>}\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group>\r\n                    <Form.Label>Name</Form.Label>\r\n                        <Form.Control type=\"name\" placeholder=\"Enter Name...\" value={name} \r\n                        onChange={(e) => setName(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"Enter Email...\" value={email} \r\n                        onChange={(e) => setEmail(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Phone Number</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Enter Phone Number...\" value={phoneNumber} \r\n                        onChange={(e) => setPhoneNumber(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n\r\n                <Button type=\"submit\" variant=\"primary\">\r\n                        Sign Up \r\n                </Button>\r\n            </Form>    \r\n        </FormContainer>\r\n    )\r\n}\r\n\r\nexport default WorkoutSignForScreen\r\n"]},"metadata":{},"sourceType":"module"}