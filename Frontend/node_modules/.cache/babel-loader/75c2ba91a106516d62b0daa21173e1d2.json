{"ast":null,"code":"import _slicedToArray from\"C:/Users/reems/Documents/My Web Sites/hotelmanagment/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{getAdminDetails}from\"../actions/adminActions\";import{Row,Col,Form,Button}from\"react-bootstrap\";import FormContainer from\"../components/FormContainer\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../components/Message\";import{updateAdminProfile}from\"../actions/adminActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileScreen=function ProfileScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var adminLogin=useSelector(function(state){return state.adminLogin;});var adminInfo=adminLogin.adminInfo;var adminUpdate=useSelector(function(state){return state.adminUpdate;});var error=adminUpdate.error,success=adminUpdate.success;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),phoneNumber=_useState6[0],setPhoneNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];useEffect(function(){if(adminInfo){setName(adminInfo.name);setEmail(adminInfo.email);setPhoneNumber(adminInfo.phoneNumber);}else{history.push(\"/login\");}},[]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){setMessage(\"Passwords don't match\");}else{dispatch(updateAdminProfile({id:adminInfo._id,name:name,email:email,phoneNumber:phoneNumber,password:password}));}setPassword('');setConfirmPassword('');};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Edit Profile\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Admin Updated\"}),adminInfo?/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter Name...\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email...\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Enter Phone Number...\",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password...\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password Again...\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Update\"})]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"No Data\"})]});};export default ProfileScreen;","map":{"version":3,"sources":["C:/Users/reems/Documents/My Web Sites/hotelmanagment/Frontend/src/screens/ProfileScreen.js"],"names":["React","useState","useEffect","getAdminDetails","Row","Col","Form","Button","FormContainer","useDispatch","useSelector","Message","updateAdminProfile","ProfileScreen","history","dispatch","adminLogin","state","adminInfo","adminUpdate","error","success","name","setName","email","setEmail","phoneNumber","setPhoneNumber","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","push","submitHandler","e","preventDefault","id","_id","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { getAdminDetails } from \"../actions/adminActions\"\r\nimport { Row, Col, Form, Button } from \"react-bootstrap\"\r\nimport FormContainer from \"../components/FormContainer\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Message from \"../components/Message\"\r\nimport { updateAdminProfile } from \"../actions/adminActions\"\r\n\r\nconst ProfileScreen = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const adminLogin = useSelector((state) => state.adminLogin)\r\n    const { adminInfo } = adminLogin\r\n\r\n    const adminUpdate = useSelector((state) => state.adminUpdate)\r\n    const { error, success } = adminUpdate\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [phoneNumber, setPhoneNumber] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        if(adminInfo){\r\n            setName(adminInfo.name)\r\n            setEmail(adminInfo.email)\r\n            setPhoneNumber(adminInfo.phoneNumber)\r\n        } else{\r\n            history.push(\"/login\")\r\n        }\r\n    }, [])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if(password !== confirmPassword){\r\n            setMessage(\"Passwords don't match\")\r\n        }\r\n        else{\r\n            dispatch(updateAdminProfile({ id: adminInfo._id, name, email, phoneNumber, password}))\r\n        }\r\n        setPassword('')\r\n        setConfirmPassword('')\r\n    }\r\n\r\n    return (\r\n        <FormContainer>\r\n            <h1 className=\"mt-5\">Edit Profile</h1>\r\n            { error && <Message variant=\"danger\">{error}</Message>}\r\n            { success && <Message variant=\"success\">Admin Updated</Message>}\r\n            { adminInfo ? \r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group>\r\n                    <Form.Label>Name</Form.Label>\r\n                        <Form.Control type=\"name\" placeholder=\"Enter Name...\" value={name} \r\n                        onChange={(e) => setName(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"Enter Email...\" value={email} \r\n                        onChange={(e) => setEmail(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Phone Number</Form.Label>\r\n                        <Form.Control type=\"number\" placeholder=\"Enter Phone Number...\" value={phoneNumber} \r\n                        onChange={(e) => setPhoneNumber(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Enter Password...\" value={password} \r\n                        onChange={(e) => setPassword(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Confirm Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Enter Password Again...\" value={confirmPassword} \r\n                        onChange={(e) => setConfirmPassword(e.target.value)} >  \r\n                        </Form.Control>\r\n                </Form.Group>\r\n\r\n                <Button type=\"submit\" variant=\"primary\">\r\n                        Update\r\n                </Button>\r\n            </Form>    \r\n            \r\n        : <Message variant=\"danger\">No Data</Message>\r\n        \r\n        }\r\n\r\n            \r\n        </FormContainer>\r\n    )\r\n}\r\n\r\nexport default ProfileScreen\r\n"]},"metadata":{},"sourceType":"module"}